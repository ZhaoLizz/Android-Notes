# 项目设计经验

## 常用BaseActivity和Fragment

- 新建抽象基类BaseActivity，把重复的方法放到此类，子类Activity负责托管frament
- 把需要重复调用但是功能不同的方法设置为抽象方法

```java
//BaseActivity
public abstract class SingleFragmentActivity extends AppCompatActivity{
    //抽象方法
    protected abstract Fragment createFramgent();

    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_fragment);

        FragmentManager fm = getSupportFragmentManager();
        Fragment fragment = fm.findFragmentById(R.id.fragment_container);

        if (fragment == null) {
            fragment = createFramgent();
            fm.beginTransaction().add(R.id.fragment_container, fragment).commit();
        }
    }
}
```

```java
//活动1，托管fragmetn1.
public class CrimeActivity extends SingleFragmentActivity {
    @Override
    protected Fragment createFramgent() {
        return new CrimeFragment();
    }
}

//活动2，托管fragment2。二者区别仅有重写的基类方法不同
public class CrimeListActivity extends SingleFragmentActivity {
    @Override
    protected Fragment createFramgent() {
        return new CrimeListFragment();
    }
}
```
